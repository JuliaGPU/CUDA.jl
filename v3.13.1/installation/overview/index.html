<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · CUDA.jl</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-154489943-2"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-154489943-2', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://cuda.juliagpu.org/stable/installation/overview/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="CUDA.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CUDA.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/introduction/">Introduction</a></li><li><a class="tocitem" href="../../tutorials/custom_structs/">Using custom structs</a></li></ul></li><li><span class="tocitem">Installation</span><ul><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Package-installation"><span>Package installation</span></a></li><li><a class="tocitem" href="#Platform-support"><span>Platform support</span></a></li><li><a class="tocitem" href="#NVIDIA-driver"><span>NVIDIA driver</span></a></li><li><a class="tocitem" href="#CUDA-toolkit"><span>CUDA toolkit</span></a></li><li><a class="tocitem" href="#Containers"><span>Containers</span></a></li></ul></li><li><a class="tocitem" href="../conditional/">Conditional use</a></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li></ul></li><li><span class="tocitem">Usage</span><ul><li><a class="tocitem" href="../../usage/overview/">Overview</a></li><li><a class="tocitem" href="../../usage/workflow/">Workflow</a></li><li><a class="tocitem" href="../../usage/array/">Array programming</a></li><li><a class="tocitem" href="../../usage/memory/">Memory management</a></li><li><a class="tocitem" href="../../usage/multitasking/">Tasks and threads</a></li><li><a class="tocitem" href="../../usage/multigpu/">Multiple GPUs</a></li></ul></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../../development/profiling/">Profiling</a></li><li><a class="tocitem" href="../../development/troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../../development/debugging/">Debugging</a></li></ul></li><li><span class="tocitem">API reference</span><ul><li><a class="tocitem" href="../../api/essentials/">Essentials</a></li><li><a class="tocitem" href="../../api/compiler/">Compiler</a></li><li><a class="tocitem" href="../../api/kernel/">Kernel programming</a></li><li><a class="tocitem" href="../../api/array/">Array programming</a></li></ul></li><li><span class="tocitem">Library reference</span><ul><li><a class="tocitem" href="../../lib/driver/">CUDA driver</a></li></ul></li><li><a class="tocitem" href="../../faq/">FAQ</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Installation</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaGPU/CUDA.jl/blob/master/docs/src/installation/overview.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="InstallationOverview"><a class="docs-heading-anchor" href="#InstallationOverview">Overview</a><a id="InstallationOverview-1"></a><a class="docs-heading-anchor-permalink" href="#InstallationOverview" title="Permalink"></a></h1><p>The Julia CUDA stack requires users to have a functional <a href="https://www.nvidia.com/Download/index.aspx">NVIDIA driver</a> and corresponding <a href="https://developer.nvidia.com/cuda-downloads">CUDA toolkit</a>. The former should be installed by you or your system administrator, while the latter can be automatically downloaded by Julia using the artifact subsystem.</p><h2 id="Package-installation"><a class="docs-heading-anchor" href="#Package-installation">Package installation</a><a id="Package-installation-1"></a><a class="docs-heading-anchor-permalink" href="#Package-installation" title="Permalink"></a></h2><p>For most users, installing the latest tagged version of CUDA.jl will be sufficient. You can easily do that using the package manager:</p><pre><code class="nohighlight hljs">pkg&gt; add CUDA</code></pre><p>Or, equivalently, via the <code>Pkg</code> API:</p><pre><code class="language-julia hljs">julia&gt; import Pkg; Pkg.add(&quot;CUDA&quot;)</code></pre><p>In some cases, you might need to use the <code>master</code> version of this package, e.g., because it includes a specific fix you need. Often, however, the development version of this package itself relies on unreleased versions of other packages. This information is recorded in the manifest at the root of the repository, which you can use by starting Julia from the CUDA.jl directory with the <code>--project</code> flag:</p><pre><code class="nohighlight hljs">$ cd .julia/dev/CUDA.jl     # or wherever you have CUDA.jl checked out
$ julia --project
pkg&gt; instantiate            # to install correct dependencies
julia&gt; using CUDA</code></pre><p>In the case you want to use the development version of CUDA.jl with other packages, you cannot use the manifest and you need to manually install those dependencies from the master branch. Again, the exact requirements are recorded in CUDA.jl&#39;s manifest, but often the following instructions will work:</p><pre><code class="nohighlight hljs">pkg&gt; add GPUCompiler#master
pkg&gt; add GPUArrays#master
pkg&gt; add LLVM#master</code></pre><h2 id="Platform-support"><a class="docs-heading-anchor" href="#Platform-support">Platform support</a><a id="Platform-support-1"></a><a class="docs-heading-anchor-permalink" href="#Platform-support" title="Permalink"></a></h2><p>All three major operation systems are supported: Linux, Windows and macOS. However, that support is subject to NVIDIA providing a CUDA toolkit for your system, subsequently macOS support might be deprecated soon.</p><p>Similarly, we support x86, ARM, PPC, ... as long as Julia is supported on it and there exists an NVIDIA driver and CUDA toolkit for your platform. The main development platform (and the only CI system) however is x86_64 on Linux, so if you are using a more exotic combination there might be bugs.</p><h2 id="NVIDIA-driver"><a class="docs-heading-anchor" href="#NVIDIA-driver">NVIDIA driver</a><a id="NVIDIA-driver-1"></a><a class="docs-heading-anchor-permalink" href="#NVIDIA-driver" title="Permalink"></a></h2><p>To use the Julia GPU stack, you need to install the NVIDIA driver for your system and GPU. You can find <a href="https://www.nvidia.com/Download/index.aspx">detailed instructions</a> on the NVIDIA home page.</p><p>If you&#39;re using Linux you should always consider installing the driver through the package manager of your distribution. In the case that driver is out of date or does not support your GPU, and you need to download a driver from the NVIDIA home page, similarly prefer a distribution-specific package (e.g., deb, rpm) instead of the generic runfile option.</p><p>If you are using a shared system, ask your system administrator on how to install or load the NVIDIA driver. Generally, you should be able to find and use the CUDA driver library, called <code>libcuda.so</code> on Linux, <code>libcuda.dylib</code> on macOS and <code>nvcuda64.dll</code> on Windows. You should also be able to execute the <code>nvidia-smi</code> command, which lists all available GPUs you have access to.</p><p>Finally, to be able to use all of the Julia GPU stack you need to have permission to profile GPU code. On Linux, that means loading the <code>nvidia</code> kernel module with the <code>NVreg_RestrictProfilingToAdminUsers=0</code> option configured (e.g., in <code>/etc/modprobe.d</code>). Refer to the <a href="https://developer.nvidia.com/nvidia-development-tools-solutions-ERR_NVGPUCTRPERM-permission-issue-performance-counters">following document</a> for more information.</p><h2 id="CUDA-toolkit"><a class="docs-heading-anchor" href="#CUDA-toolkit">CUDA toolkit</a><a id="CUDA-toolkit-1"></a><a class="docs-heading-anchor-permalink" href="#CUDA-toolkit" title="Permalink"></a></h2><p>There are two different options to provide CUDA: either you <a href="https://developer.nvidia.com/cuda-downloads">install it yourself</a> in a way that is discoverable by the Julia CUDA packages, or you let the packages download CUDA from artifacts. If you can use artifacts (i.e., you are not using an unsupported platform or have no specific requirements), it is recommended to do so: The CUDA toolkit is tightly coupled to the NVIDIA driver, and compatibility is automatically taken into account when selecting an artifact to use.</p><h3 id="Artifacts"><a class="docs-heading-anchor" href="#Artifacts">Artifacts</a><a id="Artifacts-1"></a><a class="docs-heading-anchor-permalink" href="#Artifacts" title="Permalink"></a></h3><p>Use of artifacts is the default option: Importing CUDA.jl will automatically download CUDA upon first use of the API. You can inspect details about the process by enabling debug logging:</p><pre><code class="nohighlight hljs">$ JULIA_DEBUG=CUDA julia

julia&gt; using CUDA

julia&gt; CUDA.version()
┌ Debug: Trying to use artifacts...
└ @ CUDA CUDA/src/bindeps.jl:52
┌ Debug: Using CUDA 10.2.89 from an artifact at /home/tim/Julia/depot/artifacts/93956fcdec9ac5ea76289d25066f02c2f4ebe56e
└ @ CUDA CUDA/src/bindeps.jl:108
v&quot;10.2.89&quot;</code></pre><h3 id="Local-installation"><a class="docs-heading-anchor" href="#Local-installation">Local installation</a><a id="Local-installation-1"></a><a class="docs-heading-anchor-permalink" href="#Local-installation" title="Permalink"></a></h3><p>If artifacts are unavailable for your platform, the Julia CUDA packages will look for a local CUDA installation:</p><pre><code class="nohighlight hljs">julia&gt; CUDA.version()
┌ Debug: Trying to use artifacts...
└ @ CUDA CUDA/src/bindeps.jl:52
┌ Debug: Could not find a compatible artifact.
└ @ CUDA CUDA/src/bindeps.jl:73

┌ Debug: Trying to use local installation...
└ @ CUDA CUDA/src/bindeps.jl:114
┌ Debug: Found local CUDA 10.0.326 at /usr/local/cuda-10.0/targets/aarch64-linux, /usr/local/cuda-10.0
└ @ CUDA CUDA/src/bindeps.jl:141
v&quot;10.0.326&quot;</code></pre><p>You might want to disallow use of artifacts, e.g., because an optimized CUDA installation is available for your system. You can do so by setting the environment variable <code>JULIA_CUDA_USE_BINARYBUILDER</code> to <code>false</code> when importing CUDA.jl.</p><p>To troubleshoot discovery of a local CUDA installation, you can set <code>JULIA_DEBUG=CUDA</code> and see the various paths where CUDA.jl looks. By setting any of the <code>CUDA_HOME</code>, <code>CUDA_ROOT</code> or <code>CUDA_PATH</code> environment variables, you can guide the package to a specific directory.</p><h2 id="Containers"><a class="docs-heading-anchor" href="#Containers">Containers</a><a id="Containers-1"></a><a class="docs-heading-anchor-permalink" href="#Containers" title="Permalink"></a></h2><p>CUDA.jl is container friendly: You can install, precompile, and even import the package on a system without a GPU, as is often the case when building an image:</p><pre><code class="nohighlight hljs">$ docker run --rm -it julia

(@v1.5) pkg&gt; add CUDA

(@v1.5) pkg&gt; precompile
Precompiling project...
[ Info: Precompiling CUDA [052768ef-5323-5732-b1bb-66c8b64840ba]

(@v1.5) pkg&gt;</code></pre><p>At run time you obviously do need a CUDA-compatible GPU as well as the CUDA driver library to interface with it. Typically, that library is imported from the host system, e.g., by launching <code>docker</code> using the <code>--gpus=all</code> flag. Because of how the NVIDIA container runtime works, you also need to define the <code>NVIDIA_VISIBLE_DEVICES</code> and <code>NVIDIA_DRIVER_CAPABILITIES</code> environment variables to configure which parts of the host driver are made available:</p><pre><code class="nohighlight hljs">$ docker run --rm -it --runtime=nvidia -e NVIDIA_VISIBLE_DEVICES=all -e NVIDIA_DRIVER_CAPABILITIES=compute,utility julia

julia&gt; using CUDA

julia&gt; CUDA.version()
Downloading artifact: CUDA110
v&quot;11.0.0&quot;</code></pre><p>Note that your image needs to provide <code>libgomp</code>, e.g. by executing <code>apt install libgomp1</code>.</p><p>If you want to use an image that already provide the CUDA toolkit, you can set the <code>JULIA_CUDA_USE_BINARYBUILDER</code> environment variable to <code>false</code> as documented above. For example, you could use NVIDIA&#39;s <a href="https://hub.docker.com/r/nvidia/cuda/">official CUDA images</a> (which also do not require you to define the <code>NVIDIA_VISIBLE_DEVICES</code> or <code>NVIDIA_DRIVER_CAPABILITIES</code>). Of course, these images do not come with Julia pre-installed.</p><p>Combining both, the <a href="https://ngc.nvidia.com/catalog/containers/hpc:julia">Julia NGC images</a> come with both Julia and the CUDA toolkit pre-installed, together with the CUDA.jl package for maximum ease-of-use:</p><pre><code class="nohighlight hljs">$ docker run --rm -it --gpus=all nvcr.io/hpc/julia:v1.2.0

julia&gt; using CUDA</code></pre><p>Note that the current version of this image is woefully outdated, but you can find the updated source <a href="https://github.com/maleadt/julia-ngc">on GitHub</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tutorials/custom_structs/">« Using custom structs</a><a class="docs-footer-nextpage" href="../conditional/">Conditional use »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.7 on <span class="colophon-date" title="Friday 20 January 2023 20:34">Friday 20 January 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
